<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {%load static%}
    <link rel="stylesheet" href="{% static 'css/scheduler.css'%}">
    {%block css%} {%endblock %}
    <link rel="stylesheet" href="https://unicons.iconsout.com/release/v4.0.0/css/line.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://kit.fontawesome.com/c4254e24a8.js" crossorigin="anonymous"></script>
    <script src ="path/to/jquery.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="scheduler.js"></script>
    <title>Appointment Scheduler</title>
</head>
<body>
    <!--NavBar --> 
    <section id="header">
        <img src="{%static 'images/cliniclogo.png'%}" alt="logo" width="80px" height="80px">
        <div>
            <ul id="navbar">
                <li><a href="shop.html">Home</a></li>
                <li><a href="calendar.html">Clinic Calendar</a></li>
                <li><a class="active" href="scheduler.html">Appointment Scheduler</a></li>

                {% if user.is_authenticated%}
                <li><a href="{%url 'logout'%}">LogOut</a></li>
                {%else%}
                {%endif%}
                
            </ul>
        </div>
    </section><br><br>


     <!--<div class="container">
        <header>C l i n i c&nbsp;&nbsp;&nbsp;A p p o i n t m e n t&nbsp;&nbsp;&nbsp;S c h e d u l e r</header>
        <form id="form-box" name='registration' onSubmit="return formValidation();">
            <h1>Pet Owner's Details</h1>
            <ul>
                <label for="userid">Cell #:</label>
                <input type="text" name="userid" size="12" />

                <label for="passid">Telephone #:</label>
                <input type="text" name="passid" size="12"/>

                <label for="username">Name:</label>
                <input type="text" name="username" size="50" />

                <label for="address">Address:</label>
                <input type="text" name="address" size="50" />
                
                

                <label for="zip">ZIP Code:</label>
                <input type="numbers" name="uzip" size="50"/>

                <label for="email">Email:</label>
                <input type="email" name="email" size="50"/><br><br>

                <label id="gender">Sex:</label>
                <input type="text" name="sex"/>

                <label for="bookeddate">Book Date:</label>
                <input type="date" name="bookdate" size="12"/>
                

                <input type="submit" name="submit" value="Submit" id="button"/>

            
            </ul>
        </form>    
    </div> -->

    <section id="forms">
            <h2>Happy Paws Appointment Scheduler</h2>
                {% if submitted %}
                    Your Appointment Schedule Has been Processed!
                    
                    {%else%}
                    <form class="scheduler-form" action="" method="POST" onsubmit= "return validate();">
                        {%csrf_token%}
                        {{form.as_p}}
                   
                        <div class="submit">
                            <input type ="submit" value="Submit" id="btn">
                        </div>

                        {% if form.errors %}
                        <div class="alert alert-danger">
                            {% for field, errors in form.errors.items %}
                            {% for error in errors %}
                            <p class="mb-0 text-danger">{{ error }}</p>      
                            {% endfor %}
                            {% endfor %}
                        </div>
                        {% endif %}
                    </form>
                {%endif%}


                <script>
                    // Get the form element
                    var form = document.getElementById('scheduler-form');
                  
                    // Attach a submit event listener to the form
                    form.addEventListener('submit', function(event) {
                      // Prevent the form from being submitted
                      event.preventDefault();
                  
                      // Perform custom validation
                      var emailInput = document.getElementById('email');
                  
                      // Validate email (valid email format)
                      var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                      if (!emailPattern.test(emailInput.value)) {
                        alert('Please enter a valid email address.');
                        return;
                      }
                  
                      // If validation passes, submit the form
                      form.submit();
                    });
                  </script>
    </section>
    
</body>
</html>